
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Multi-Codec Streaming - Bitmovin Demos</title>
  <link rel="shortcut icon" href="https://cdn.bitmovin.com/frontend/shared/images/favicon/favicon.ico">
  <link rel="icon" type="image/png" href="https://cdn.bitmovin.com/frontend/shared/images/favicon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="https://cdn.bitmovin.com/frontend/shared/images/favicon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="https://cdn.bitmovin.com/frontend/shared/images/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://cdn.bitmovin.com/frontend/shared/images/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="https://cdn.bitmovin.com/frontend/shared/images/favicon/favicon-128x128.png" sizes="128x128">

  <meta property="og:site_name" content="Bitmovin Demos">
  <meta property="og:type" content="website">
    <meta property="og:image" content="https://bitmovin.com/demos/assets/demos/encoding/multi-codec-streaming/icon-54ae4684dd31edc44815e5ad583a3f76dd2f9030d3c20d04d4a7701952545e46.png">
    <meta property="og:image:width" content="128">
    <meta property="og:image:height" content="128">
    <meta property="og:image:type" content="image/png">
    <meta property="og:title" content="Multi-Codec Streaming - Bitmovin Demos">
    <meta property="og:url" content="https://bitmovin.com/demos/multi-codec-streaming">
    <meta property="og:description" content="Improve video quality by encoding in multiple codecs and dynamically switching between codecs based on the user’s individual playback environment.">
    <meta name="description" content="Improve video quality by encoding in multiple codecs and dynamically switching between codecs based on the user’s individual playback environment.">

  <script>
    window.isAdblockEnabled = true;
  </script>
  <script src="/demos/adframe.js?v1.5.0-29-g1f5bd17"></script>

  <script>
    window.BITVERSION = {
      framework: 'v1.5.0-29-g1f5bd17',
      demos: 'v0.8.1-4-g2e17301'
    };
  </script>

  <!-- Google Tag Manager -->
    <script>
      (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-MJS8MR5');
    </script>
  <!-- End Google Tag Manager -->

  <!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="https://js.hs-scripts.com/3411032.js"></script>
  <!-- End of HubSpot Embed Code -->

  <script>
    window._rails_env = 'production';
    window._relative_root_url= '';
  </script>

  <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="8vAFsx2+XSjVRditao5dWdmA+ycyBavjk8EKsG1/YMVCpGI+Fx/yOP9ue+jAbwHV2XDJht2Wb5kfemcPcpns6A==" />
  <link rel="stylesheet" media="all" href="/demos/assets/application-0c231ba9a6a3fba121371f145d3a97f8472117f5fa5cfcdb1198190e0c42fbfb.css" />
  <script src="/demos/assets/application-8fed40cbf4805f4565e37883d4d5d500bb3d51f58f892bf14710a497af0a4eb5.js"></script>
  <script src="/demos/packs/application-afb616b32fefbd935573.js"></script>

</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MJS8MR5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div id="sideNavWrapper">
  <div id="sideNav" class="sidenav">
    <div class="sideNavTitle"></div>
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">
      <img src="/demos/assets/hamburger-close-5350bdcef3e05c68369c00befb27a5fdaceb50716f90939431e1dc00b5c59615.svg" alt="Close">
    </a>
    <ul>
      <li><a href="/demos/"> Demos</a></li>
      <li><a href="https://bitmovin.com/encoding-service/">Encoding</a></li>
      <li><a href="https://bitmovin.com/video-player/">Player</a></li>
      <li><a href="https://bitmovin.com/video-analytics/">Analytics</a></li>
      <li><a href="https://developer.bitmovin.com/">Developer</a></li>
      <li><a href="https://bitmovin.com/blog/">Blog</a></li>
      <li><a href="https://bitmovin.com/team/">Company</a></li>
      <li><a href="https://dashboard.bitmovin.com/login">Login</a></li>
    </ul>
  </div>
  <div id="sideNavOverlay"></div>
</div>

<div id="sideNavBtn">
  <a href="javascript:void(0)" class="open-side" onclick="openNav()">
    <img src="/demos/assets/hamburger-menu-4b5e5c18253b7a7ef9c7e95d776701283a3927ce5575187d03a6722ae01b8b80.svg" alt="Menu">
  </a>
</div>

<header class="bm-header">
  <nav class="bm-navbar">
    <div class="bitmovin-nav">
      <div class="bm-logo">
        <a href="https://bitmovin.com">
          <img src="/demos/assets/bitmovin-4b1e8761a40ed48de7fb8115f1cbc2a1bd3c8b41d8db76dd539b26218aed541c.svg" alt="Bitmovin">
        </a>
      </div>
      <ul class="bm-navbar-left">
        <li>
          <a href="https://bitmovin.com/encoding-service/">
            Encoding
          </a>
        </li>
        <li>
          <a href="https://bitmovin.com/video-player/">
            Player
          </a>
        </li>
        <li>
          <a href="https://bitmovin.com/video-analytics/">
            Analytics
          </a>
        </li>
      </ul>

      <ul class="bm-navbar-right">
        <li>
          <a href="https://developer.bitmovin.com/">
            Developer
</a>        </li>
        <li>
          <a href="/demos/">
            Demos
</a>        </li>
        <li>
          <a href="https://bitmovin.com/blog/">
            Blog
</a>        </li>
        <li>
          <a href="https://bitmovin.com/company/">
            Company
</a>        </li>
        <li data-react-class="login/Authentication" data-react-props="{}"></li>
      </ul>
    </div>
    <div style="clear:both;"></div>
  </nav>
  <div class="developerNav">
    <ul class="devNav">
<!--      <li class="home">-->
<!--        <a href=">">-->
<!--          <i class="fa fa-th"></i> Demos-->
<!--        </a>-->
<!--      </li>-->
      <li class="documentation">
        <a href="https://bitmovin.com/docs">
          Documentation
        </a>
      </li>
      <li class="button-dropdown releaseNotes">
        <a href="javascript:void(0)" class="dropdown-toggle">
          Releases
        </a>
        <ul class="dropdown-menu">
          <li>
            <a href="https://bitmovin.com/docs/player/releases/web">
              Web SDK
            </a>
          </li>
          <li>
            <a href="https://bitmovin.com/docs/player/releases/ios" style="text-transform:none">
              iOS SDK
            </a>
          </li>
          <li>
            <a href="https://bitmovin.com/docs/player/releases/android">
              Android SDK
            </a>
          </li>
          <li>
            <a href="https://bitmovin.com/docs/encoding/releases/encoder">
              Encoding
            </a>
          </li>
        </ul>
      </li>
      <li class="button-dropdown apiReference">
        <a href="javascript:void(0)" class="dropdown-toggle">
          API Reference
        </a>
        <ul class="dropdown-menu">
          <li>
            <a href="https://bitmovin.com/docs/encoding/api-reference">
              Encoding
            </a>
          </li>
          <li>
            <a href="https://bitmovin.com/docs/player/api-reference">
              Player
            </a>
          </li>
          <li>
            <a href="https://bitmovin.com/docs/analytics/api-reference">
              Analytics
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</header>

<script>
  function openNav(){document.getElementById("sideNav").style.display="block",document.getElementById("sideNavWrapper").style.display="block",setTimeout(function(){document.getElementById("sideNav").style.width="250px"},100)}function closeNav(){document.getElementById("sideNav").style.width="0",setTimeout(function(){document.getElementById("sideNav").style.display="none",document.getElementById("sideNavWrapper").style.display="none"},500)}jQuery(document).ready(function($){$(".dropdown-toggle").click(function(){var t=$(this).parents(".button-dropdown").children(".dropdown-menu").is(":hidden");$(".button-dropdown .dropdown-menu").hide(),$(".button-dropdown").removeClass("active"),t&&($(this).parents(".button-dropdown").children(".dropdown-menu").toggle(),$(this).parents(".button-dropdown").addClass("active"))}),$("#sideNavOverlay").bind("click",closeNav),$(document).bind("click",function(t){$(t.target).parents().hasClass("button-dropdown")||$(".button-dropdown .dropdown-menu").hide()}),$(document).bind("click",function(t){$(t.target).parents().hasClass("button-dropdown")||$(".button-dropdown").removeClass("active")})});</script>


<div class="demo-detail multi-codec-streaming encoding player">
  <div class="demo-header banner-gradient">
    <div class="container">
      <div class="row category-header-row">
        <div class="category-detail-wrapper col-sm-12 text-center text-lg-left">
          <div class="category justify-content-center justify-content-lg-start">
            <div class="category-image"><img src="/demos/assets/demos/encoding/multi-codec-streaming/icon-ab065518132a019d7eb93845c934950d56d1ab6cb795363d40b6344226f4c9ca.svg" alt="Icon" /></div>
            <h1 class="demo-category ml-0 ml-sm-4">Multi-Codec Streaming</h1>
          </div>
          <div class="categories">
            <span><a href="/demos/?category=encoding">&rarr; See all encoding demos</a><br><a href="/demos/?category=player">&rarr; See all player demos</a></span><br/>
            <span>&rarr; <a href="/demos/">See all demos</a></span>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="demo-body">
    <div class="container">

      <div class="row mb-3">
        <div class="col-md-8">
          <div class="demo-title-description">
            <h1>Save bandwidth and improve quality by ensuring that you are delivering the most efficient codec possible</h1>
          </div>
        </div>
        <div class="info-wrapper col-md-4 text-center text-md-right mt-3 mt-md-0">
          <div class="info info-box text-md-right mt-3 mb-3 mt-md-0 mb-md-0 d-inline-block pt-3 pb-3 rounded">
            <div id="bitmovin-info"><!-- content will be set in JS according to loaded bitmovin object --></div>
              <a target="_blank" onclick="amp.logDemoSourceCodeClicked(&#39;multi-codec-streaming&#39;)" href="https://github.com/bitmovin/demos/tree/master/encoding/multi-codec-streaming">
                <div class="btn btn-sm btn-outline-dark">
                  <i class="fa fa-lg fa-github"></i>
                  <span class="pl-1">Demo Source Code</span>
                </div>
</a>          </div>
        </div>
      </div>


      <script type="text/javascript"
        src="https://cdn.bitmovin.com/player/web/8/bitmovinplayer.js"></script>
<script type="text/javascript"
        src="https://cdn.bitmovin.com/analytics/web/beta/2/bitmovinanalytics.min.js"></script>

<div>
    <div class="row">
        <div class="col-lg-6 player-col mt-3">
            <ul class="mb-4">
                <li>Match codecs to browsers dynamically</li>
                <li>50% bandwidth savings or more</li>
                <li>Deliver the best quality possible for each user, based on their browser</li>
            </ul>
            <a href="//bitmovin-a.akamaihd.net/webpages/demo-fw/multi-codec/browser-usage.png" data-featherlight="image"
               title="Browser Usage">
                <span class="btn btn-outline-primary">Browser Usage</span>
            </a>
        </div>
        <div class="col-lg-6 player-col mt-3">
        </div>
    </div>
    <div class="row mt-5">
        <div class="col-lg-6 player-col">
            <p>Detected <span id="detected-browser"></span>, using <span class="selected-codec"></span></p>
            <div id="tv-wrapper">
                <div id="player-wrapper" class="pb-5 pb-lg-5">
                    <div id="player" class="notebook-frame">
                        <div id="player-container"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 code-col mt-5">
            <div id="stats-panels-wrapper">
                <div class="panel bitmovin-panel-bitrate mb-4">
                    <div class="panel-heading bitmovin-panel-heading-bitrate">
                        <h4 class="mb-3">Bitrate</h4>
                    </div>
                    <div>
                        <canvas height="110px" id="chart-container"></canvas>
                    </div>
                </div>
                <div id="stats-table-wrapper">
                    <h4 class="mb-3 mt-5">Performance</h4>
                    <table id="stats-table">
                        <tbody>
                        <tr>
                            <td><span class="selected-codec"></span> Segment Data</td>
                            <td><span id="selected-codec-request-data">0</span> MB</td>
                        </tr>
                        <tr>
                            <td><span id="compare-codec"></span> Segment Data</td>
                            <td><span id="compare-codec-request-data">0</span> MB</td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td>Savings</td>
                            <td><span id="savings-percentage">0</span> %</td>
                        </tr>
                        <tr class="strong">
                            <td>Cost reduction*</td>
                            <td><span id="cost-reduction">0</span> USD</td>
                        </tr>
                        </tfoot>
                    </table>
                    <div class="small ml-2">* assuming 1,000,000 Views and 0.025 USD Distribution Cost per GB</div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>#stats-table td {
    padding: 5px;
}

#stats-table tr > td:first-child {
    padding-right: 1rem;
}

.browser-icon {
    font-size: 1.5em;
}

.codec-image {
    font-size: 1.5em;
}

body:not(.fullscreen) :not(.no-frame).notebook-frame::before {
    top: 0;
    left: 0;
}</style>

<script> function digitToTime(digit) {
    var minutes = Math.floor(digit / 60),
        seconds = digit - 60 * minutes;
    return (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds)
}

function timeToDigit(time) {
    var parts = time.split(":");
    return 60 * parseInt(parts[0], 10) + parseInt(parts[1], 10)
}

function setupInterval() {
    clearInterval(interval), interval = setInterval(function() {
        currentTime += .01, chart.draw()
    }, 10)
}
var player = null,
    CODEC = {
        H264: "H264",
        H265: "H265",
        VP9: "VP9"
    },
    compareBitrates = {
        "320_180": 35e4,
        "480_270": 65e4,
        "640_360": 1e6,
        "854_480": 15e5,
        "1280_720": 3e6,
        "1920_1080_5000000": 5e6,
        "1920_1080_8000000": 8e6
    },
    mappingCodecBitrates = {};
mappingCodecBitrates[CODEC.H265] = {
    25e5: 5e6,
    4e6: 8e6
}, mappingCodecBitrates[CODEC.VP9] = {
    35e5: 5e6,
    56e5: 8e6
}, mappingCodecBitrates[CODEC.H264] = {
    5e6: 5e6,
    8e6: 8e6
};
var selectedCodec = CODEC.H264,
    COMPARE_CODEC = CODEC.H264,
    codecsBitratesSegmentSizes = {};
codecsBitratesSegmentSizes[CODEC.H264] = {
    35e4: [685, 201608, 153039, 96589, 168128, 129749, 218458, 171236, 152517, 148939, 136647, 176398, 162364, 180951, 148369, 151525, 165903, 140564, 110780, 118662, 156296, 179581, 128321, 138865, 175373, 142948, 152169, 163324, 191471, 178332, 164577, 152358, 155635, 127246, 176723, 202441, 170261, 196069, 156367, 150710, 170825, 178871, 160620, 168523, 153776, 171892, 166211, 162651, 143877, 198702, 104515, 179850, 157542, 32767],
    65e4: [685, 394874, 277796, 195756, 337381, 242307, 430719, 323565, 283151, 295043, 262453, 338611, 304418, 345256, 276298, 286003, 308694, 272646, 223498, 241935, 297729, 354948, 257745, 263646, 345760, 265907, 290868, 304671, 361466, 344562, 302615, 289032, 295651, 237315, 335742, 392438, 324643, 373648, 291361, 283144, 325551, 339011, 299153, 324972, 288583, 330863, 317717, 308813, 263933, 369941, 202711, 328663, 299450, 63421],
    1e6: [684, 626047, 428836, 327766, 541300, 398388, 696615, 505391, 442559, 471135, 413891, 541471, 472838, 536610, 425145, 449029, 465839, 432214, 366228, 392807, 475372, 570527, 410627, 406827, 544938, 412210, 455828, 476492, 564320, 546040, 479539, 458076, 465582, 370224, 522494, 621562, 515786, 584835, 447509, 440146, 508866, 530674, 470231, 512554, 448884, 508206, 494897, 481978, 406512, 575652, 320016, 505282, 467033, 106828],
    15e5: [684, 951536, 652770, 533443, 812933, 597498, 1048305, 776150, 676469, 738455, 637941, 815191, 713776, 822655, 645245, 693323, 698648, 680533, 587741, 615835, 724057, 875328, 643893, 624574, 845319, 629357, 698226, 727522, 855270, 834700, 736568, 704293, 720894, 566303, 798836, 942700, 786461, 878340, 667196, 675836, 792214, 809864, 715471, 796310, 686209, 776987, 753818, 735210, 617289, 869081, 498878, 760476, 716373, 178732],
    3e6: [685, 1653539, 1373917, 1194461, 1635590, 1247551, 2064168, 1561963, 1419628, 1547072, 1327086, 1563910, 1515393, 1666332, 1333829, 1427871, 1412504, 1472746, 1297953, 1315628, 1491223, 1860828, 1400761, 1303187, 1754722, 1308278, 1485701, 1489816, 1712376, 1721953, 1530624, 1449354, 1509692, 1204998, 1612102, 1830082, 1582255, 1743489, 1413419, 1374414, 1576103, 1593363, 1454253, 1641826, 1394627, 1593439, 1542190, 1523587, 1270934, 1688145, 1065171, 1532418, 1473899, 424258],
    5e6: [686, 2401470, 2502646, 2303901, 2632287, 2254375, 3379343, 2574562, 2489147, 2620347, 2341775, 2626471, 2539426, 2758934, 2328248, 2474828, 2396290, 2614300, 2317618, 2375952, 2433161, 3344931, 2444204, 2301737, 3010766, 2240535, 2632446, 2539150, 2804417, 2892980, 2681935, 2494571, 2598344, 2187796, 2743285, 3046143, 2645105, 2923349, 2431444, 2475489, 2676831, 2676571, 2528940, 2834125, 2370770, 2798395, 2664922, 2603499, 2318633, 2800597, 1877015, 2632045, 2606646, 872529],
    8e6: [686, 4280560, 4081131, 3716628, 4231889, 3597963, 5201595, 3914156, 4039138, 4093946, 3868820, 4341942, 4067848, 4571671, 3854514, 4009218, 3754091, 4249077, 3797207, 3833006, 3827858, 5699442, 3877780, 3729113, 4814556, 3731407, 4403464, 3952262, 4323577, 4690187, 4382517, 4049968, 4244221, 3619401, 4401876, 4821466, 4164370, 4654223, 3941799, 4031354, 4378817, 4267801, 4041997, 4613190, 3725017, 4516282, 4336397, 4343495, 3759102, 4449216, 3013121, 4155003, 4163343, 1337479]
}, codecsBitratesSegmentSizes[CODEC.H265] = {
    175e3: [923, 120999, 82739, 55436, 94003, 74695, 130015, 84307, 76372, 83734, 72707, 95525, 81331, 98145, 82109, 81146, 97537, 73294, 58514, 64530, 85568, 100674, 55561, 69166, 93621, 78264, 76431, 92778, 99265, 101484, 91525, 80069, 84022, 63102, 98157, 115841, 100480, 115870, 83280, 76167, 96731, 99723, 89330, 96086, 82830, 96825, 81798, 87666, 84752, 121169, 58972, 101391, 84234, 19660],
    325e3: [922, 220938, 144308, 108217, 172098, 131585, 243778, 159370, 141624, 158900, 139794, 194013, 147223, 193841, 150275, 154675, 178909, 137363, 113512, 123655, 160395, 197809, 97716, 138134, 175674, 148852, 140362, 169933, 183784, 202449, 176823, 148267, 160603, 124006, 181570, 221324, 181229, 222468, 151779, 140591, 182113, 183144, 167462, 186085, 146675, 190142, 157970, 160701, 157772, 220246, 109798, 179430, 154717, 37196],
    5e5: [923, 342023, 222530, 172576, 263535, 202241, 382130, 241031, 220704, 251471, 213438, 310754, 224539, 309480, 224913, 238752, 267196, 223709, 183078, 191122, 244502, 322134, 161215, 207719, 284326, 229821, 222947, 259681, 280397, 320688, 274135, 228705, 253103, 190981, 271764, 347536, 276802, 351917, 229557, 217613, 285971, 281444, 265234, 289975, 224143, 293736, 247604, 243037, 235178, 331764, 169930, 276831, 242809, 59299],
    75e4: [924, 504571, 327097, 268645, 408791, 292803, 575816, 363046, 337641, 379709, 327225, 470435, 344106, 479711, 344560, 361809, 383233, 354486, 286506, 300871, 364806, 500029, 259282, 304584, 455411, 349196, 334148, 391949, 421270, 493143, 418858, 340166, 384639, 296176, 415520, 530601, 407155, 527482, 339065, 336498, 432772, 426181, 401225, 447341, 328705, 451593, 377860, 372306, 347635, 491737, 259525, 412945, 368007, 92558],
    15e5: [922, 1011661, 661921, 584069, 825981, 599902, 1142056, 739709, 697444, 767229, 668207, 958929, 703034, 933936, 718678, 759082, 736733, 749647, 631004, 635876, 745202, 1054969, 584772, 648270, 969427, 705379, 710258, 802621, 848557, 1013116, 840492, 703426, 789752, 613217, 851604, 1069597, 795757, 914766, 672891, 693172, 888365, 852814, 803865, 884126, 659862, 903263, 815064, 768099, 679662, 958561, 548551, 831321, 750114, 202592],
    25e5: [924, 1490887, 1090434, 964718, 1206299, 887897, 1699935, 1156814, 1137118, 1258691, 1072302, 1519188, 1176819, 1444199, 1117309, 1225309, 1146863, 1252101, 1037896, 1054864, 1145141, 1616226, 1098736, 1048428, 1590871, 1091345, 1159697, 1250577, 1310460, 1553924, 1349289, 1138838, 1253492, 1012677, 1341676, 1656341, 1198908, 1433858, 1060093, 1096449, 1396589, 1333955, 1260934, 1403641, 1046983, 1454890, 1289836, 1209794, 1076501, 1426811, 868286, 1287113, 1200617, 302901],
    4e6: [924, 2416910, 1843355, 1653157, 1972950, 1459895, 2669188, 1876179, 1893372, 2008969, 1782778, 2444862, 1923382, 2372078, 1863698, 2009697, 1855300, 2109031, 1748604, 1757897, 1875333, 2701962, 1864879, 1778423, 2541138, 1811714, 2022399, 2061003, 2085611, 2533624, 2198427, 1882321, 2073242, 1703203, 2181536, 2606006, 1889296, 2282347, 1753044, 1816137, 2243628, 2119626, 2042939, 2274120, 1665178, 2353205, 2119856, 2000850, 1729558, 2262912, 1416893, 2076356, 1943046, 494305]
}, codecsBitratesSegmentSizes[CODEC.VP9] = {
    245e3: [440, 119643, 130025, 122887, 201022, 115800, 166479, 106270, 111746, 134501, 102169, 108651, 92062, 113577, 125345, 104775, 110664, 111174, 136471, 128859, 104905, 137415, 100572, 108295, 117855, 140520, 112591, 113638, 120403, 126204, 131914, 141556, 119456, 135279, 136535, 126158, 132525, 129251, 132363, 123556, 118823, 122241, 130965, 142178, 138080, 120365, 137248, 126489, 109465, 108975, 95681, 107984, 108593, 29098],
    455e3: [442, 222938, 213027, 234959, 325626, 208589, 299273, 189124, 205109, 237827, 178639, 201897, 171157, 204489, 228001, 191283, 195713, 206366, 254196, 237295, 195796, 261862, 184253, 193250, 221210, 245879, 202898, 199192, 209069, 222311, 230525, 243875, 215915, 228782, 236213, 220133, 229133, 227700, 231485, 216287, 203727, 214096, 223911, 250452, 246043, 215685, 243477, 225016, 202006, 193607, 163228, 189837, 193165, 45386],
    7e5: [442, 327677, 315694, 357330, 517870, 314571, 452513, 291233, 314894, 354951, 265920, 308857, 272808, 308357, 331312, 291536, 295900, 344910, 386984, 367803, 304908, 391555, 288133, 291362, 338692, 368113, 310521, 300676, 312026, 339605, 347476, 362564, 325609, 335003, 349502, 328631, 343175, 338529, 345817, 324375, 300179, 320009, 337199, 369074, 360507, 317389, 364967, 338702, 299862, 299341, 244961, 284072, 287140, 63947],
    105e4: [442, 476458, 473453, 652782, 736397, 463140, 668288, 434248, 476794, 524526, 388351, 470294, 413792, 461564, 485990, 439825, 440408, 542314, 643592, 547713, 452311, 606759, 433917, 434717, 525194, 535782, 449487, 443572, 452216, 517640, 513844, 532307, 483556, 486591, 513535, 476283, 503105, 492273, 500846, 460151, 433635, 461844, 489987, 531574, 515541, 469910, 537171, 498330, 446222, 444879, 355181, 414628, 418861, 90163],
    21e5: [442, 903622, 917842, 1304078, 1288689, 879329, 1203243, 876315, 930455, 981160, 744480, 950641, 828995, 883380, 911141, 851820, 856651, 1018995, 1256495, 1062134, 855697, 1129240, 858931, 863175, 1047752, 1019431, 879568, 838419, 874705, 999856, 979344, 983664, 939060, 923877, 976476, 893350, 940804, 927017, 921113, 849230, 843813, 868352, 904029, 1007405, 938815, 894182, 982138, 949356, 844910, 866916, 660069, 788141, 809083, 164661],
    35e5: [442, 1512901, 1518018, 2232452, 2130331, 1423411, 1834527, 1440524, 1493164, 1589811, 1259860, 1546983, 1397489, 1428195, 1479790, 1418872, 1411412, 1695840, 2044546, 1746900, 1403320, 1812447, 1371872, 1437356, 1697970, 1692173, 1453350, 1522154, 1446145, 1660231, 1588767, 1622637, 1525219, 1520442, 1619223, 1481907, 1528597, 1499127, 1477361, 1366667, 1373722, 1365987, 1462877, 1626673, 1493801, 1463247, 1586528, 1540985, 1399810, 1387095, 1066380, 1303958, 1342897, 274383],
    56e5: [442, 2298665, 2238418, 3388525, 2712584, 2125306, 2893068, 2144689, 2270523, 2379809, 1968185, 2279806, 2023154, 2132467, 2164165, 2073247, 2116630, 2764279, 2851513, 2588868, 2052341, 2716382, 2060971, 2149269, 2480760, 2513511, 2173112, 2240926, 2171836, 2464379, 2330199, 2317756, 2312982, 2234308, 2339547, 2248213, 2305505, 2279541, 2144888, 2018794, 2072517, 2116303, 2148806, 2435264, 2193982, 2224301, 2277408, 2250821, 2102236, 2141614, 1558510, 2017002, 2010365, 409727]
};
var interval, SEGMENT_SIZE_SECONDS = 4,
    compareCodecSegmentsBytes = 0,
    selectedCodecSegmentBytes = 0,
    currentSegmentDownloaded = 0,
    currentSegmentDisplayed = 0,
    segmentData = [],
    MAX_SEGMENT_VIEW_COUNT = 10,
    chart = null,
    currentTime = 0,
    updateRequestData = function(selectedRequestData, compareRequestedData, savingsPercentage, costReduction) {
        Number.isNaN(selectedRequestData) || (document.getElementById("selected-codec-request-data").innerHTML = selectedRequestData), Number.isNaN(compareRequestedData) || (document.getElementById("compare-codec-request-data").innerHTML = compareRequestedData), Number.isNaN(savingsPercentage) || (document.getElementById("savings-percentage").innerHTML = savingsPercentage), Number.isNaN(costReduction) || (document.getElementById("cost-reduction").innerHTML = costReduction)
    },
    bytesToMegabytes = function(bytes) {
        return bytes / 1024 / 1024
    },
    bytesToGigabytes = function(bytes) {
        return bytesToMegabytes(bytes) / 1024
    },
    roundToTwo = function(number) {
        return Math.round(100 * number) / 100
    },
    updateBandwidthData = function() {
        var playbackData = player.getPlaybackVideoData(),
            playbackBitrate = playbackData.bitrate;
        if (playbackBitrate) {
            var bitrateIndex = playbackData.width + "_" + playbackData.height;
            mappingCodecBitrates[selectedCodec][playbackBitrate] && (bitrateIndex += "_" + mappingCodecBitrates[selectedCodec][playbackBitrate]);
            var compareBitrate = compareBitrates[bitrateIndex],
                compareCodecBitratesSegmentSizes = codecsBitratesSegmentSizes[COMPARE_CODEC],
                compareCodecSegmentSizes = compareCodecBitratesSegmentSizes[compareBitrate],
                compareCodecSegmentSize = compareCodecSegmentSizes[currentSegmentDownloaded],
                selectedCodecBitratesSegmentSizes = codecsBitratesSegmentSizes[selectedCodec],
                playbackCodecSegmentSizes = selectedCodecBitratesSegmentSizes[playbackBitrate],
                playbackCodecSegmentSize = playbackCodecSegmentSizes[currentSegmentDownloaded];
            compareCodecSegmentsBytes += compareCodecSegmentSize, selectedCodecSegmentBytes += playbackCodecSegmentSize, segmentData.push({
                compareCodecSegmentSize: compareCodecSegmentSize,
                playbackCodecSegmentSize: playbackCodecSegmentSize,
                compareCodecSegmentsBytes: compareCodecSegmentsBytes,
                selectedCodecSegmentBytes: selectedCodecSegmentBytes
            }), currentSegmentDownloaded++
        }
    },
    shiftSegments = function() {
        var labels = chart.data.labels,
            datasets = chart.data.datasets,
            isDatasetFilled = Math.max(datasets[0].data.length, datasets[1].data.length) === MAX_SEGMENT_VIEW_COUNT,
            start = timeToDigit(labels[0]),
            end = timeToDigit(labels[labels.length - 1]),
            currentRangeMidPoint = start + (end - start) / 2,
            currentTimeWithinRange = currentTime >= start;
        if ((!isDatasetFilled || currentTimeWithinRange && currentTime >= currentRangeMidPoint) && 0 !== segmentData.length && chart.data.datasets[0] && !player.hasEnded()) {
            var segment = segmentData.shift(),
                compareCodecSegmentSize = segment.compareCodecSegmentSize,
                playbackCodecSegmentSize = segment.playbackCodecSegmentSize,
                compareCodecSegmentsBytes = segment.compareCodecSegmentsBytes,
                selectedCodecSegmentBytes = segment.selectedCodecSegmentBytes,
                compareCodecBitrate = roundToTwo(compareCodecSegmentSize / SEGMENT_SIZE_SECONDS / 1e3 * 8),
                playbackCodecBitrate = roundToTwo(playbackCodecSegmentSize / SEGMENT_SIZE_SECONDS / 1e3 * 8);
            for (Number.isNaN(compareCodecBitrate) && (compareCodecBitrate = 0), Number.isNaN(playbackCodecBitrate) && (playbackCodecBitrate = 0), datasets[0].data.push(Math.round(compareCodecBitrate)), datasets[1].data.push(Math.round(playbackCodecBitrate)); datasets[0].data.length > MAX_SEGMENT_VIEW_COUNT;) labels.shift(), datasets[0].data.shift(), datasets[1].data.shift(), labels.push(digitToTime(timeToDigit(labels[labels.length - 1]) + SEGMENT_SIZE_SECONDS));
            chart.update();
            var selectedRequestData = roundToTwo(bytesToMegabytes(selectedCodecSegmentBytes)),
                compareRequestedData = roundToTwo(bytesToMegabytes(compareCodecSegmentsBytes)),
                savingsPercentage = roundToTwo(100 * (1 - selectedCodecSegmentBytes / compareCodecSegmentsBytes)),
                costReduction = roundToTwo(1e6 * bytesToGigabytes(compareCodecSegmentsBytes - selectedCodecSegmentBytes) * .025);
            updateRequestData(selectedRequestData, compareRequestedData, savingsPercentage, costReduction), currentSegmentDisplayed++
        }
    },
    getCodecImage = function(selectedCodec) {
        switch (selectedCodec) {
            case CODEC.VP9:
                return '<span class="codec-image">VP9</span>';
            case CODEC.H265:
                return '<span class="codec-image">H265</span>';
            case CODEC.H264:
            default:
                return '<span class="codec-image">H264</span>'
        }
    },
    getBrowserImage = function(selectedBrowser) {
        switch (selectedBrowser) {
            case BROWSER.CHROME:
                return '<i class="fa fa-chrome browser-icon" aria-hidden="true"></i>';
            case BROWSER.EDGE:
                return '<i class="fa fa-edge browser-icon" aria-hidden="true"></i>';
            case BROWSER.FIREFOX:
                return '<i class="fa fa-firefox browser-icon" aria-hidden="true"></i>';
            case BROWSER.IE:
                return '<i class="fa fa-internet-explorer browser-icon" aria-hidden="true"></i>';
            case BROWSER.OPERA:
                return '<i class="fa fa-opera browser-icon" aria-hidden="true"></i>';
            case BROWSER.SAFARI:
                return '<i class="fa fa-safari browser-icon" aria-hidden="true"></i>';
            case BROWSER.UNKNOWN:
            default:
                return '<i class="fa fa-question browser-icon" aria-hidden="true"></i>'
        }
    },
    setupChart = function() {
        Chart.defaults.global.responsive = !0, Chart.defaults.global.animation = !1, Chart.defaults.global.showTooltips = !1;
        for (var options = {
                scaleBeginAtZero: !0,
                scaleShowGridLines: !0,
                scaleGridLineColor: "#F3F3F3",
                scaleGridLineWidth: 1,
                scaleShowHorizontcaleBeginAtZerolLines: !0,
                scaleShowVerticalLines: !0,
                bezierCurve: !1,
                bezierCurveTension: .4,
                pointDot: !0,
                pointDotRadius: 4,
                pointDotStrokeWidth: 1,
                pointHitDetectionRadius: 20,
                datasetStroke: !0,
                datasetStrokeWidth: 2,
                datasetFill: !0,
                scales: {
                    yAxes: [{
                        type: "user-defined"
                    }]
                },
                elements: {
                    point: {
                        radius: 0
                    }
                }
            }, colors = {
                blue: "#2c83b9",
                orange: "#ff931e",
                blueTint: "rgba(179,223,241,0.5)",
                orangeTint: "rgba(244,225,201,0.3)"
            }, data = {
                labels: [],
                datasets: [{
                    label: COMPARE_CODEC,
                    data: [],
                    steppedLine: !0,
                    backgroundColor: colors.orangeTint,
                    borderColor: colors.orange,
                    pointBackgroundColor: colors.orange,
                    borderWidth: 2
                }, {
                    label: selectedCodec,
                    data: [],
                    steppedLine: !0,
                    backgroundColor: colors.blueTint,
                    borderColor: colors.blue,
                    pointBackgroundColor: colors.blue,
                    borderWidth: 2
                }]
            }, count = 0; count < MAX_SEGMENT_VIEW_COUNT; count++) data.labels.push(digitToTime(count * SEGMENT_SIZE_SECONDS));
        var UserDefinedScaleDefaults = Chart.scaleService.getScaleDefaults("linear"),
            UserDefinedScale = Chart.scaleService.getScaleConstructor("linear").extend({
                buildTicks: function() {
                    this.min = 0, this.max = 12e3;
                    var stepWidth = 2e3;
                    this.ticks = [];
                    for (var tickValue = this.min; tickValue <= this.max; tickValue += stepWidth) this.ticks.push(tickValue);
                    "left" != this.options.position && "right" != this.options.position || this.ticks.reverse(), this.options.ticks.reverse ? (this.ticks.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), this.zeroLineIndex = this.ticks.indexOf(0)
                }
            });
        Chart.scaleService.registerScaleType("user-defined", UserDefinedScale, UserDefinedScaleDefaults);
        var originalLineDraw = Chart.controllers.line.prototype.draw;
        Chart.helpers.extend(Chart.controllers.line.prototype, {
            draw: function() {
                if (originalLineDraw.apply(this, arguments), this._data && 0 !== this._data.length) {
                    var labels = this.chart.config.data.labels,
                        chartArea = this.chart.chartArea,
                        timeRange = timeToDigit(labels[labels.length - 1]) - timeToDigit(labels[0]),
                        timeInRange = currentTime - timeToDigit(labels[0]),
                        xRange = chartArea.right - chartArea.left,
                        x = Math.min(chartArea.left + xRange * (timeInRange / timeRange), chartArea.right);
                    this.chart.chart.ctx.beginPath(), this.chart.chart.ctx.moveTo(x, chartArea.top), this.chart.chart.ctx.strokeStyle = "#1fabe2", this.chart.chart.ctx.lineWidth = 2, this.chart.chart.ctx.shadowBlur = .5, this.chart.chart.ctx.lineTo(x, chartArea.bottom), this.chart.chart.ctx.stroke()
                }
            }
        }), chart = new Chart(document.getElementById("chart-container").getContext("2d"), {
            type: "line",
            data: data,
            options: options
        })
    },
    multicodec = function() {
        var browser = getBrowser(),
            config = {
                key: "29ba4a30-8b5e-4336-a7dd-c94ff3b25f30",
                analytics: {
                    key: "45adcf9b-8f7c-4e28-91c5-50ba3d442cd4",
                    videoId: "multi-codec-streaming"
                },
                adaptation: {
                    desktop: {
                        qualityThreshold: .5,
                        disableDownloadCancelling: !0
                    },
                    mobile: {
                        qualityThreshold: .5,
                        disableDownloadCancelling: !0
                    }
                },
                playback: {
                    muted: !0
                },
                events: {
                    play: function() {
                        setupInterval()
                    },
                    stallstarted: function() {
                        clearInterval(interval)
                    },
                    stallended: function() {
                        setupInterval()
                    },
                    paused: function() {
                        clearInterval(interval)
                    },
                    playbackfinished: function() {
                        clearInterval(interval)
                    }
                }
            },
            source = {
                dash: "//bitmovin-a.akamaihd.net/webpages/demos/content/multi-codec/h264/stream.mpd",
                poster: "images/comparison.jpg"
            };
        browser === BROWSER.CHROME || browser === BROWSER.FIREFOX ? (selectedCodec = CODEC.VP9, source.dash = "//bitmovin-a.akamaihd.net/webpages/demos/content/multi-codec/vp9/stream.mpd") : browser === BROWSER.EDGE ? (selectedCodec = CODEC.H265, source.dash = "//bitmovin-a.akamaihd.net/webpages/demos/content/multi-codec/hevc/stream.mpd") : browser === BROWSER.SAFARI && (selectedCodec = CODEC.H265, source.hls = "//bitmovin-a.akamaihd.net/webpages/demos/content/multi-codec/hevc/stream_fmp4.m3u8", document.getElementById("stats-panels-wrapper").style.display = "none");
        for (var selectedCodecElements = document.getElementsByClassName("selected-codec"), i = 0; i < selectedCodecElements.length; i++) selectedCodecElements[i].innerHTML = getCodecImage(selectedCodec);
        document.getElementById("compare-codec").innerHTML = getCodecImage(COMPARE_CODEC), document.getElementById("detected-browser").innerHTML = getBrowserImage(browser);
        var playerContainer = document.getElementById("player-container");
        bitmovin.player.Player.addModule(bitmovin.analytics.PlayerModule), player = new bitmovin.player.Player(playerContainer, config), player.load(source).then(function() {
            player.preload(), player.seek = function() {}
        }), player.on(bitmovin.player.PlayerEvent.SegmentRequestFinished, function(segment) {
            segment.mimeType.indexOf("audio") >= 0 || updateBandwidthData()
        }), player.on(bitmovin.player.PlayerEvent.TimeChanged, function(event) {
            currentTime = event.time, shiftSegments()
        }), setupChart()
    };
$(document).ready(multicodec); 
</script>

    </div>
  </div>
</div>

<div class="row cta p-5 bg-transparent m-0">
  <div class="col-12 text-center pt-4 pb-4">
    <h4>Create an account to get started!</h4>
    <div class="mt-4">
      <a href="https://dashboard.bitmovin.com/signup" onclick="amp.logCtaClicked('multi-codec-streaming')" target="_blank">
        <button class="btn btn-success">Sign Up for Free</button>
      </a>
    </div>
    <div class="mt-2 text-muted">
      No credit card required.
    </div>
  </div>
</div>

<div class="footer">
  <div class="footer-content">
    <div class="footer-nav">
        <div class="footer-container">
          <div class="footer-nav-content">
            <h2>Products</h2>
            <a class="footer-link" href="https://bitmovin.com/encoding-service/" target="_blank">Encoding</a>
            <a class="footer-link" href="https://bitmovin.com/video-player/" target="_blank">Player</a>
            <a class="footer-link" href="https://bitmovin.com/video-analytics/" target="_blank">Analytics</a>
          </div>
          <div class="footer-nav-content">
            <h2>News + events</h2>
            <a class="footer-link" href="https://bitmovin.com/blog/" target="_blank">Blog</a>
            <a class="footer-link" href="https://bitmovin.com/press-room/" target="_blank">Newsroom</a>
            <a class="footer-link" href="https://bitmovin.com/press-room/#logoDownload" target="_blank">Brand Kit</a>
          </div>
        </div>
        <div class="footer-container">
          <div class="footer-nav-content">
            <h2>Company</h2>
            <a class="footer-link" href="https://bitmovin.com/team/" target="_blank">About</a>
            <a class="footer-link" href="https://bitmovin.com/pricing/" target="_blank">Pricing</a>
            <a class="footer-link" href="https://bitmovin.com/careers/" target="_blank">Careers</a>
          </div>
          <div class="footer-nav-content">
            <a class="footer-link" href="https://bitmovin.com/partners/" target="_blank">Partners</a>
            <a class="footer-link" href="https://bitmovin.com/contact/" target="_blank">Contacting Bitmovin</a>
            <a class="footer-link" href="https://bitmovin.com/awards-and-memberships/" target="_blank">Awards & Memberships</a>
          </div>
        </div>
        <div class="footer-container">
          <div class="footer-nav-content">
            <h2>Support</h2>
            <a class="footer-link" href="https://bitmovin.com/docs/encoding" target="_blank">Encoding</a>
            <a class="footer-link" href="https://bitmovin.com/docs/player" target="_blank">Player</a>
            <a class="footer-link" href="https://bitmovin.com/docs/analytics" target="_blank">Analytics</a>
          </div>
          <div class="footer-nav-content">
            <h2>Development</h2>
            <a class="footer-link" href="https://bitmovin.com/docs" target="_blank">Documentation</a>
            <a class="footer-link" href="https://github.com/bitmovin" target="_blank">Github</a>
            <a class="footer-link" href="https://dashboard.bitmovin.com" target="_blank">Dashboard</a>
          </div>
        </div>
    </div>
    <div class="footer-address">
      <h2>Bitmovin inc</h2>
      <div class="footer-address-content">
        301 Howard Street, Suite 1800 <br/>
        San Francisco | CA 94105 | USA <br/>
        1-833-248-6686
      </div>
    </div>
    <div class="footer-cities-media">
      <div class="footer-social-media">
        <h2>Follow us on social media</h2>
        <div class="footer-media-content">
          <a class="footer-media-link" href="https://www.facebook.com/bitmovin" target="_blank">
            <img src="/demos/assets/social/facebook-c5c489b0f213c2c3919250db4d9832c5eb2594de85c3473b9218706b31c3a1ff.svg" alt="Facebook"/>
          </a>
          <a class="footer-media-link" href="https://twitter.com/bitmovin" target="_blank">
          <img src="/demos/assets/social/twitter-225a65b95423c4f0015c7585639590020aeab218299c420f5e2dc54564b15612.svg" alt="Twitter"/>
          </a>
          <a class="footer-media-link" href="https://www.linkedin.com/company/bitmovin" target="_blank">
          <img src="/demos/assets/social/linked-in-11be816536204cf97dc44c4a24c980f2a5fc465de135c22e4cf680464a8ab358.svg" alt="LinkedIn"/>
          </a>
          <a class="footer-media-link" href="https://plus.google.com/111920568576140129023" target="_blank">
          <img src="/demos/assets/social/google-plus-87f92be4f7d643901be248d669f2bb3a7f0c0f7f7f14c3ae32beac2d87106733.svg" alt="Google Plus"/>
          </a>
        </div>
      </div>
      <div class="footer-cities"> Made with <img class="heart-container" src="/demos/assets/heart-b346689fd4d7991006fb728dc6a8bf74c3e803ddfcd7bfb2e3297337ad69f588.svg" alt="Heart"/> in • San Francisco • Klagenfurt • Vienna • Denver • Chicago • New York • London • Seattle • Hong Kong • Sao Paulo</div>
    </div>
    <div class="footer-company-details">
      <div class="footer-company-logo">
        <img src="/demos/assets/bitmovin-logo-696ba3d88f6af42e30b8ba0ac868d98ae592f590ceb9d4806e1f76537fb2cdf5.svg" alt="Bitmovin Logo" />
      </div>
      <div class="footer-company-content">
        <a href="https://bitmovin.com/privacy/" target="_blank">Privacy Policy</a>|<a href="https://bitmovin.com/terms/" target="_blank">Terms of Service</a>|<a href="https://bitmovin.com/legal-notice/" target="_blank">Legal Notice</a>|<a href="" target="_blank">Site Map</a>
      </div>
      <div class="footer-company-rights">
        Copyright © 2018 Bitmovin Inc. All rights reserved.
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">
    var allCategories = ['encoding','player'];
    var additionalInfo = [];
    if (window.bitmovin) {
        if (window.bitmovin.analytics) {
            additionalInfo.push('<span class="analytics-info">Analytics Version ' + window.bitmovin.analytics.version + '</span>');
        }
        else if (window.bitmovin.player) {
            additionalInfo.push('<span class="player-info">Bitmovin Player Version ' + window.bitmovin.player.version + '</span>');
        }
    }
    if (additionalInfo.length > 0) {
        $('#bitmovin-info').html(additionalInfo.join(' | '));
    }
</script>
<script>
  (function() {
    amp.logDemoPageView('multi-codec-streaming');
  })()
</script>

</body>
<script>
  var currentYearContainers = document.getElementsByClassName("current-year");
  if (currentYearContainers && currentYearContainers.length > 0) {
    var date = new Date, currentYear = date.getFullYear();
    for (var i = 0; i < currentYearContainers.length; i++) {
      currentYearContainers[i].innerHTML = "" + currentYear;
    }
  }
</script>
</html>